<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main}">
<head>
<meta charset="utf-8">
<title>AMS ENSAH | Profile</title>
<style>
	.profile-image img{
	    height: 120px;
	    max-width: 120px;
	    width: 120px;
	    object-fit:cover;
	}
</style>
</head>
<body>
	<div layout:fragment="content">
		<div class="page-header">
			<div class="row">
				<div class="col">
					<h3 class="page-title">Profile</h3>
					<ul class="breadcrumb">
						<li class="breadcrumb-item"><a th:href="@{/}">Dashboard</a></li>
						<li class="breadcrumb-item active">Profile</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div th:if="${success}" class="alert alert-success text-center" role="alert">
			<span th:text="${success}"></span>
		</div>
		<div th:else th:if="${failed}" class="alert alert-success text-center" role="alert">
			<span th:text="${failed}"></span>
		</div>

		<div sec:authorize="hasRole('CADRE_ADMINISTRATOR')" class="row">
			<div class="col-md-12">
				<div class="profile-header">
					<div class="row align-items-center">
						<div class="col-auto profile-image">
							<img class="rounded-circle" alt="User Image"
								th:src="@{${user.picture} ? ${user.picture} : '/assets/img/profiles/unknown.png'}">
						</div>
						<div class="col ms-md-n2 profile-user-info">
							<h4 class="user-name mb-0"
								th:text="${user.firstName+' '+user.lastName}"></h4>
							<h6 class="text-muted">Cadre administrateur</h6>

							<div class="user-Location">
								<i class="fas fa-address-card"></i> <span
									th:text="${user.grade}"></span>
							</div>
							<div class="about-text">
								<i class="fas fa-language"></i> <span
									th:text="${user.firstNameAr+' '+user.lastNameAr}"></span>
							</div>
						</div>
					</div>
				</div>
				<div class="profile-menu">
					<ul class="nav nav-tabs nav-tabs-solid">
						<li class="nav-item"><a class="nav-link active"
							data-bs-toggle="tab" href="#per_details_tab">À propos</a></li>
						<li class="nav-item"><a class="nav-link" data-bs-toggle="tab"
							href="#password_tab">Mot de passe</a></li>
					</ul>
				</div>
				<div class="tab-content profile-tab-cont">

					<div class="tab-pane fade show active" id="per_details_tab">

						<div class="row">
							<div class="col-lg-12">
								<div class="card">
									<div class="card-body">
										<h5 class="card-title d-flex justify-content-between mb-4">
											<span>Informations Personnelles</span>
											<a th:href="@{/profile/edit}" class="edit-link" id="edit-link">
												<i class="far fa-edit me-1"></i>
											</a>
										</h5>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Nom complet
												en français :</p>
											<p class="col-sm-9"
												th:text="${user.firstName+' '+user.lastName}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Nom complet
												en arabe :</p>
											<p class="col-sm-9"
												th:text="${user.firstNameAr+' '+user.lastNameAr}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Grade :</p>
											<p class="col-sm-9" th:text="${user.grade}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Email :</p>
											<p class="col-sm-9" th:text="${user.email}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted  mb-0 mb-sm-3">Mobile :</p>
											<p class="col-sm-9" th:text="${user.phone}"></p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<div id="password_tab" class="tab-pane fade">
						<div class="card">
							<div class="card-body">
								<h5 class="card-title">Changer le mot de passe</h5>
								<div class="row">
									<div class="col-md-10 col-lg-6">
										<form>
											<div class="form-group">
												<label for="password">Ancien mot de passe</label> <input
													type="password" class="form-control" id="password">
											</div>
											<div class="form-group">
												<label for="new-password">Nouveau mot de passe</label> <input
													type="password" class="form-control" id="new-password">
											</div>
											<div class="form-group">
												<label for="confirm-password">Confirmer le nouveau
													mot de passe</label> <input type="password" class="form-control"
													id="confirm-password">
											</div>
											<button class="btn btn-primary" type="submit">Enregistrer</button>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>

		<div sec:authorize="hasRole('TEACHER')" class="row">
			<div class="col-md-12">
				<div class="profile-header">
					<div class="row align-items-center">
						<div class="col-auto profile-image">
							<img class="rounded-circle" alt="User Image"
								th:src="@{assets/img/profiles/unknown.png}">
						</div>
						<div class="col ms-md-n2 profile-user-info">
							<h4 class="user-name mb-0"
								th:text="${user.firstName+' '+user.lastName}"></h4>
							<h6 class="text-muted">Professeur</h6>

							<div class="about-text">
								<i class="fas fa-language"></i> <span
									th:text="${user.firstNameAr+' '+user.lastNameAr}"></span>
							</div>
						</div>
					</div>
				</div>
				<div class="profile-menu">
					<ul class="nav nav-tabs nav-tabs-solid">
						<li class="nav-item"><a class="nav-link active"
							data-bs-toggle="tab" href="#per_details_tab">À propos</a></li>
						<li class="nav-item"><a class="nav-link" data-bs-toggle="tab"
							href="#password_tab">Mot de passe</a></li>
					</ul>
				</div>
				<div class="tab-content profile-tab-cont">

					<div class="tab-pane fade show active" id="per_details_tab">
						<div class="row">
							<div class="col-lg-12">

								<div class="card">
									<div class="card-body">
										<h5 class="card-title d-flex justify-content-between mb-4">
											<span>Informations Personnelles</span> 
											<a th:href="@{/profile/edit}" class="edit-link" id="edit-link">
												<i class="far fa-edit me-1"></i>
											</a>
										</h5>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Nom complet
												en français :</p>
											<p class="col-sm-9"
												th:text="${user.firstName+' '+user.lastName}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Nom complet
												en arabe :</p>
											<p class="col-sm-9"
												th:text="${user.firstNameAr+' '+user.lastNameAr}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted  mb-0 mb-sm-3">CIN :</p>
											<p class="col-sm-9" th:text="${user.cin}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted mb-0 mb-sm-3">Email :</p>
											<p class="col-sm-9" th:text="${user.email}"></p>
										</div>
										<div class="row">
											<p class="col-sm-3 text-muted  mb-0 mb-sm-3">Mobile :</p>
											<p class="col-sm-9" th:text="${user.phone}"></p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<div id="password_tab" class="tab-pane fade">
						<div class="card">
							<div class="card-body">
								<h5 class="card-title">Changer le mot de passe</h5>
								<div class="row">
									<div class="col-md-10 col-lg-6">
										<form>
											<div class="form-group">
												<label for="password">Ancien mot de passe</label> <input
													type="password" class="form-control" id="password">
											</div>
											<div class="form-group">
												<label for="new-password">Nouveau mot de passe</label> <input
													type="password" class="form-control" id="new-password">
											</div>
											<div class="form-group">
												<label for="confirm-password">Confirmer le nouveau
													mot de passe</label> <input type="password" class="form-control"
													id="confirm-password">
											</div>
											<button class="btn btn-primary" type="submit">Enregistrer</button>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>

		<div sec:authorize="hasRole('STUDENT')" class="row">
			<div class="col-md-12">
				<div class="profile-header">
					<div class="row align-items-center">
						<div class="col-auto profile-image">
							<img class="rounded-circle" alt="User Image" th:src="@{${user.picture} ? ${user.picture} : 'assets/img/profiles/unknown.png'}">
						</div>
						<div class="col ms-md-n2 profile-user-info">
							<h4 class="user-name mb-0"
								th:text="${user.firstName+' '+user.lastName}"></h4>
							<h6 class="text-muted">Etudiant</h6>

							<div class="about-text">
								<i class="fas fa-language"></i> <span
									th:text="${user.firstNameAr+' '+user.lastNameAr}"></span>
							</div>
						</div>
					</div>
				</div>
				<div class="profile-menu">
					<ul class="nav nav-tabs nav-tabs-solid">
						<li class="nav-item"><a class="nav-link active"
							data-bs-toggle="tab" href="#per_details_tab">À propos</a></li>
						<li class="nav-item"><a class="nav-link" data-bs-toggle="tab"
							href="#password_tab">Mot de passe</a></li>
					</ul>
				</div>
				<div class="tab-content profile-tab-cont">
					<div class="tab-pane fade show active" id="per_details_tab">
						<div class="row">
							<div class="col-lg-12">
								<div class="card" id="personal-data-section">
									<div class="card-body">

										<h5 class="card-title d-flex justify-content-between mb-4">
											<span>Informations Personnelles</span> 
											<a th:href="@{/profile/edit}" class="edit-link" id="edit-link">
												<i class="far fa-edit me-1"></i>
											</a>
										</h5>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted mb-0">Nom complet en
												français :</p>
											<p class="col-sm-9"
												th:text="${user.firstName+' '+user.lastName}"></p>
										</div>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted mb-0">Nom complet en arabe
												:</p>
											<p class="col-sm-9"
												th:text="${user.firstNameAr+' '+user.lastNameAr}"></p>
										</div>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted  mb-0">Date de naissance :</p>
											<p class="col-sm-9"
												th:text="${#dates.format(user.birthDate, 'dd/MM/yyyy')}"></p>
										</div>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted  mb-0">CNE :</p>
											<p class="col-sm-9" th:text="${user.cne}"></p>
										</div>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted  mb-0">CIN :</p>
											<p class="col-sm-9" th:text="${user.cin}"></p>
										</div>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted mb-0">Email :</p>
											<p class="col-sm-9" th:text="${user.email}"></p>
										</div>
										<div class="row d-flex align-items-center">
											<p class="col-sm-3 text-muted mb-0 ">Mobile :</p>
											<p class="col-sm-9" th:text="${user.phone}"></p>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>


					<div id="password_tab" class="tab-pane fade">
						<div class="card">
							<div class="card-body">
								<h5 class="card-title">Changer le mot de passe</h5>
								<div class="row">
									<div class="col-md-10 col-lg-6">
										<form>
											<div class="form-group">
												<label for="password">Ancien mot de passe</label> <input
													type="password" class="form-control" id="password">
											</div>
											<div class="form-group">
												<label for="new-password">Nouveau mot de passe</label> <input
													type="password" class="form-control" id="new-password">
											</div>
											<div class="form-group">
												<label for="confirm-password">Confirmer le nouveau
													mot de passe</label> <input type="password" class="form-control"
													id="confirm-password">
											</div>
											<button class="btn btn-primary" type="submit">Enregistrer</button>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
		<script type="text/javascript" th:src="@{/js/profile.js}"></script>
	</div>
</body>
</html>